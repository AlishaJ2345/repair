<form class="form-full-width">
    <fieldset>
        <h3>Short Listed Candidates</h3>
        <div *ngIf="gettingList">
            <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        </div>

        <div>


            <div class="table">

                <div *ngIf="dataSource">
                    <mat-form-field class="search-form-field" floatLabel="never">
                        <input matInput (keyup)="applyFilter()" [(ngModel)]="searchKey" placeholder="Search"
                            autocomplete="off" [ngModelOptions]="{standalone: true}">
                        <button mat-button (click)="onSearchClear()" matSuffix mat-icon-button aria-label="clear" *ngIf="searchKey">
                            <mat-icon>close</mat-icon>
                        </button>
                    </mat-form-field>
                </div>
                <br>

                <div class="mat-elevation-z8">
                    <mat-table [dataSource]="dataSource" matSort>

                        <ng-container matColumnDef="picture">
                            <mat-header-cell *matHeaderCellDef></mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <img class="picurl" src="{{element.picture}}">
                            </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="name">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Name
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.name}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="email">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Email
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.email}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="uni">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Uni
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.uni}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="degree">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Qualification
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.degree}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="major">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Major
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.major}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="stars">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Stars
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.stars}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="notes">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Notes
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.notes}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="tag">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Tagged
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.tag}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="position">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Position
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.position}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="scanner_email">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Shortlisted
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.scanner_email}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="company">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Company
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.company}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="interviewed">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Interviewed
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.interviewed}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="saved">
                            <mat-header-cell *matHeaderCellDef mat-sort-header>
                                <mat-icon>arrow_drop_down</mat-icon> Created
                            </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.saved}}</mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="cv_url">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> CV </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <a *ngIf="element.cv_url" href="{{element.cv_url}}" target="_blank">
                                    <mat-icon>attach_file</mat-icon>
                                </a>
                            </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Actions">
                            <mat-header-cell *matHeaderCellDef></mat-header-cell>
                            <mat-cell *matCellDef="let row; let i = index">

                                <button mat-icon-button color="primary" (click)="inspect(i)">
                                    <mat-icon>pageview</mat-icon>
                                </button>
                                &nbsp;
                                <button mat-icon-button color="primary" (click)="storeCandidate(i)">
                                    <mat-icon>save_alt</mat-icon>
                                </button>

                            </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

                    </mat-table>

                    <mat-paginator [pageSizeOptions]="[5, 10, 20, 100]" [pageSize]="100" showFirstLastButtons></mat-paginator>

                </div>
            </div>
        </div>

    </fieldset>
</form>